!async function(e=""){if(null==document.querySelector("#error-screen > #container")&&(console.log("aaaaaa"),document.body.outerHTML="<body style='margin: 0; width: 100vw; height: 100vh'></body>"),(null!=document.querySelector("#error-screen > #container")?document.querySelector("#error-screen > #container"):document.body).innerHTML='<div style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); text-align: center;"><h1>Loading...</h1></div>',""==e)if(location.hostname.includes("youtube.")){let t=location.href.match(/v\=[a-zA-z0-9-\_]{11}/)[0].toString().substring(2,13);e=await(await fetch("https://www.youtube.com/get_video_info?video_id="+t)).text()}else e=await(await fetch("https://soft-hat-b330.nores-cors.workers.dev/?https://www.youtube.com/get_video_info?video_id="+prompt("You are not on YouTube, please enter a YouTube Video URL:").match(/v\=[a-zA-z0-9-\_]{11}/)[0].toString().substring(2,13))).text();let t={};e.split("&").forEach(e=>{kv=e.split("="),t[kv[0]]=unescape(kv[1])});let o=JSON.parse(t.player_response).streamingData.formats,r=[];o.forEach(e=>{r.push({format:e.qualityLabel,link:e.url})});let n='<div style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); text-align: center;"><h1>Available Formats:</h1>';r.forEach(e=>{n+=`<button onclick="(document.querySelector('#error-screen > #container') != null ? document.querySelector('#error-screen > #container') : document.body).innerHTML = '<iframe allowfullscreen=\\'true\\' src=\\'${e.link}\\' style=\\'width: 100%; height: 100%; border: 0;\\'></iframe>'">${e.format}</button>`}),n+="</div>",(null!=document.querySelector("#error-screen > #container")?document.querySelector("#error-screen > #container"):document.body).innerHTML=n}();
